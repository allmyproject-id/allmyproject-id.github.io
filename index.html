<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>WebCodeCamJS</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
</head>
<body>
    <canvas></canvas>
    <select style="display:none;"></select>
    <button id="btn-play">Play</button>

    <input type="text" id="scannn">

    <script type="text/javascript" src="js/jquery-3.5.1.min.js"></script>
    <script type="text/javascript" src="js/filereader.js"></script>
    <script type="text/javascript" src="js/qrcodelib.js"></script>
    <script type="text/javascript" src="js/webcodecamjs.js"></script>
    <script type="text/javascript" src="js/main.js"></script>

    <script>

        var txt = "innerText" in HTMLElement.prototype ? "innerText" :
        "textContent";
        var arg = {
          resultFunction: function(result) {
            var aChild = document.createElement('li');
            aChild[txt] = result.format + ': ' + result.code;
    //document.querySelector('body').appendChild(aChild);
    alert(aChild[txt]);
    decoder.stop();
    $('#btn-play').html('Play').removeClass('playing');
}
};
var decoder = new
WebCodeCamJS("canvas").init(arg).buildSelectMenu('select', 1);
setTimeout(function() {
  //decoder.play();
  decoder.buildSelectMenu(document.createElement('select'), 'environment|back').init(arg);
}, 500);
$('#btn-play').on('click', function() {
  $(this).toggleClass('playing');
  if ($(this).hasClass('playing')) {
    $(this).html('Stop');
    decoder.play();
} else {
    $(this).html('Play');
    decoder.stop();
}
});

</script>
</body>
</html>
